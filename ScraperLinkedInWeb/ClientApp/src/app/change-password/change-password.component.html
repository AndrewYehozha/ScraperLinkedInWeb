<div>
  <div class="center-column">
    <h2 class="form-header">Change password</h2>
    <form name="form" (ngSubmit)="f.form.valid && changePassword()" #f="ngForm" novalidate>

      <div class="form-field" [ngClass]="{ 'has-error': !oldPassword.valid }">
        <mat-form-field>
          <input matInput placeholder="Old Password" type="password" name="oldPassword" [(ngModel)]="model.OldPassword" #oldPassword="ngModel" autocomplete="off" required>
          <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="this.model.OldPassword=''">
            <mat-icon>close</mat-icon>
          </button>
          <mat-error class="validation-message" *ngIf="!oldPassword.valid">Old Password is <strong>required</strong></mat-error>
        </mat-form-field>
      </div>

      <div class="form-field" [ngClass]="{ 'has-error': !newPassword.valid }">
        <mat-form-field>
          <input matInput placeholder="New Password" type="password" name="newPassword" [(ngModel)]="model.NewPassword" #newPassword="ngModel" autocomplete="off" required pattern="((?=.*[a-z])(?=.*[0-9])[a-zA-Z0-9].{7,})" />
          <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="this.model.NewPassword=''">
            <mat-icon>close</mat-icon>
          </button>
          <mat-error class="help-block validation-message" *ngIf="!newPassword.value">New Password is <strong>required</strong></mat-error>
        </mat-form-field>
      </div>

      <div class="form-field" [ngClass]="{ 'has-error': !confirmedPassword.valid }">
        <mat-form-field>
          <input matInput placeholder="Confirm Password" type="password" name="confirmedPassword" [(ngModel)]="model.ConfirmedPassword" #confirmedPassword="ngModel" autocomplete="off" required pattern="{{ newPassword.value }}">
          <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="this.model.ConfirmedPassword=''">
            <mat-icon>close</mat-icon>
          </button>
          <mat-error class="validation-message" *ngIf="newPassword.valid && !confirmedPassword.value">Confirm Password is <strong>required</strong></mat-error>
          <mat-error class="validation-message validation-message-confirm-password" *ngIf="newPassword.valid && !!confirmedPassword.value && !confirmedPassword.valid">New Password and Confirm Password fields <strong> doesn't match</strong></mat-error>
        </mat-form-field>
      </div>

      <div class="center-row">
        <mat-error class="help-block validation-message validation-message-new-password" *ngIf="!!newPassword.value && !newPassword.valid">Make sure <strong>New Password</strong> at least 15 characters OR at least 8 characters including a number and a lowercase letter.</mat-error>
      </div>

      <div class="center-row">
        <button class="button-save font-size-15" mat-raised-button color="primary" [disabled]="loading">Save</button>
      </div>
    </form>
  </div>
</div>
